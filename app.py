# -*- coding: utf-8 -*-
import asyncio
import pprint

import aiohttp
import jinja2
from fastapi import FastAPI, Request
from fastapi.middleware.cors import CORSMiddleware
from fastapi.staticfiles import StaticFiles
from fastapi.templating import Jinja2Templates
from pathlib import Path
from database import _get_keys

# access_token=vk1.a.ztLZi_h9NOfOgzD2sEV0g3HIrOPlxySP2q80L5rCibpf1sTNiZKoAYLV07XoVRnutW32BthxcVyZy8FolA9w6_6NSM4qUcOJdPICAdUICZxpwYX4xVJzhtDwhB29RDAaGtWgySrT1QPonFSktgjE86amIE38l_JKIABJx6GV1Dj_4dVR3vYsclHB1G1aBJ8S1ngOXLbOMtDu5z8p6CQT3g
app = FastAPI()

app.mount(
    "/css",
    StaticFiles(directory=Path("css").absolute()),
    name="css",
)

app.mount(
    "/js",
    StaticFiles(directory=Path("js").absolute()),
    name="js",
)
templates = Jinja2Templates(directory="template")

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # Allows all origins
    allow_credentials=True,
    allow_methods=["*"],  # Allows all methods
    allow_headers=["*"],  # Allows all headers
)


@app.get("/")
async def home(request: Request):
    return templates.TemplateResponse("login.html", {"request": request})


async def get_html(keys):
    pattern = """
<div class="table_with_key" id="key_obj">
    {% for key, value in keys.items() %}
        <div class="key_block">
            <p class="key_id">{{key}}</p>
            <p class="key_value">{{value}}</p>
        </div>
    {% endfor %}
</div>
    """
    environment = jinja2.Environment()
    template = environment.from_string(pattern)
    html = {"html": template.render(keys=keys)}

    return html


# asyncio.run(get_html({'0': 'asdasdasd21', '1': 'acxvgdas231asdasdasd21'}))


@app.post("/get_keys")
async def get_keys():
    keys = await _get_keys()
    return await get_html(keys)


async def clear_(response):
    # print(response["items"][])
    # [print(response["response"]["items"][key]["last_message"]) for key in range(len(response["response"]["items"]))]
    data = {"messages": []}
    for index in range(len(response["response"]["items"])):
        data["messages"].append({f"{index}": {'from': response['response']['items'][index]['last_message']['from_id'], 'to_id': response['response']['items'][index]['last_message']['peer_id']}})

    print(data)
    # print(response["response"]["items"][0])

async def test_post():
    async with aiohttp.ClientSession() as session:
        head = {
            "Authorization": "Bearer vk1.a.Bxln2YFBIkqt7INbF3zOtsTcwko7xKqdsevKY01kvRQ2od_ZeUO3vTgBFzN6PDFppC3HuLC0BpcNA1TVcEMNghLzoMFcMr_82dBwLPFYc_V6sdgRBba-s0hY2E8EjQAPGAofJkNv4ufnbJuEyB_B09KpGKZEohAOP58bvFx5hR1LxjvUP9UhID1wFTaAMU9u4tzt3J8FluapQq7AxGdsbw"
        }
        async with session.post("https://api.vk.com/method/messages.getConversations?count=2&v=5.131 HTTP/1.1",
                                headers=head) as resp:
            response = await resp.json(encoding="utf-8")
            # print(response)
            await clear_(response)
            return response


a = asyncio.run(test_post())
# a = {'response': {'count': 141, 'items': [{'conversation': {'peer': {'id': 150331739, 'type': 'user', 'local_id': 150331739}, 'last_message_id': 509140, 'in_read': 509140, 'out_read': 509140, 'sort_id': {'major_id': 0, 'minor_id': 509140}, 'last_conversation_message_id': 89644, 'in_read_cmid': 89644, 'out_read_cmid': 89644, 'is_marked_unread': False, 'important': False, 'can_write': {'allowed': True}, 'can_send_money': True, 'can_receive_money': True}, 'last_message': {'date': 1694159257, 'from_id': 150331739, 'id': 509140, 'out': 0, 'attachments': [{'type': 'sticker', 'sticker': {'sticker_id': 64803, 'product_id': 1354, 'images': [{'url': 'https://vk.com/sticker/1-64803-64', 'width': 64, 'height': 64}, {'url': 'https://vk.com/sticker/1-64803-128', 'width': 128, 'height': 128}, {'url': 'https://vk.com/sticker/1-64803-256', 'width': 256, 'height': 256}, {'url': 'https://vk.com/sticker/1-64803-352', 'width': 352, 'height': 352}, {'url': 'https://vk.com/sticker/1-64803-512', 'width': 512, 'height': 512}], 'images_with_background': [{'url': 'https://vk.com/sticker/1-64803-64b', 'width': 64, 'height': 64}, {'url': 'https://vk.com/sticker/1-64803-128b', 'width': 128, 'height': 128}, {'url': 'https://vk.com/sticker/1-64803-256b', 'width': 256, 'height': 256}, {'url': 'https://vk.com/sticker/1-64803-352b', 'width': 352, 'height': 352}, {'url': 'https://vk.com/sticker/1-64803-512b', 'width': 512, 'height': 512}], 'is_allowed': False}}], 'conversation_message_id': 89644, 'fwd_messages': [], 'important': False, 'is_hidden': False, 'peer_id': 150331739, 'random_id': 0, 'reply_message': {'date': 1694154935, 'from_id': 160353318, 'text': '', 'attachments': [{'type': 'photo', 'photo': {'album_id': -3, 'date': 1694154935, 'id': 457248520, 'owner_id': 160353318, 'access_key': 'a34cd4b3ac1a5bd0e6', 'sizes': [{'height': 75, 'type': 's', 'width': 34, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=34x75&quality=96&sign=fcdb88ec6cf02837c879e8697aa6c925&c_uniq_tag=Eao5UB2Z2pxR9sZYaQ9hfdzzbVmNGo3zOsxDHdAfRn0&type=album'}, {'height': 130, 'type': 'm', 'width': 58, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=58x130&quality=96&sign=2e69ff7f3d18df5a972c7ad79ec9c426&c_uniq_tag=W22EESpi0Ws-fFxhhmDQe-AvJO8PWqz5uyQAw4p1yrk&type=album'}, {'height': 604, 'type': 'x', 'width': 272, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=272x604&quality=96&sign=99e31be0a61e02e6e0918dfb78cb9a82&c_uniq_tag=BTQaMunIuFDBVPyoVDQDU69mSyZltymd7UvXP3J8Sbk&type=album'}, {'height': 807, 'type': 'y', 'width': 363, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=363x807&quality=96&sign=ce8190fbed82f687f73a6c021c67b5c8&c_uniq_tag=juuQ7JmqEwjn0_UolJx_IsRLZ0QSw9xZ2Mgjm7gBY3I&type=album'}, {'height': 1080, 'type': 'z', 'width': 486, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=486x1080&quality=96&sign=469905e082676b98bbfa897edcd1890a&c_uniq_tag=S2tbEbSFO2c7e4uaHTf5AHEZNVRl5tfjhEyzWOaCQug&type=album'}, {'height': 1600, 'type': 'w', 'width': 720, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=720x1600&quality=96&sign=7d75998503899cfc68fa71f18f28a842&c_uniq_tag=JCJsID4q5uAz2k46Bd7fvsG8iFH_Lppa_kpgzuyVoJ4&type=album'}, {'height': 289, 'type': 'o', 'width': 130, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=130x289&quality=96&sign=9b7fc217b65b56ef04b666c9a5cd52ea&c_uniq_tag=LKQOxLnm3s4VX2OuDt9THAQGgYrle0HHOYminkEk39o&type=album'}, {'height': 444, 'type': 'p', 'width': 200, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=200x444&quality=96&sign=24712090fde22b3e2834e0076ce9b0e8&c_uniq_tag=hVDZC4TxkK9PG8IO7YeoiklTgo-02Gr0lv6BVI2L8MQ&type=album'}, {'height': 711, 'type': 'q', 'width': 320, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=320x711&quality=96&sign=284c5019743d94e8af490ebd9288f645&c_uniq_tag=__M7SsExERwy1Aa-P-yEjoIk710hxwooVI2lh7Ft7IM&type=album'}, {'height': 900, 'type': 'r', 'width': 510, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=510x900&quality=96&crop=0,0,720,1271&sign=d1b35b4b7ec0516d562fa23366244d27&c_uniq_tag=E1qzArd3k8uQVdsZVdcMSjM9uUTrf8UKgyW2xCu3mgo&type=album'}], 'text': '', 'web_view_token': '862f43c7ed7cac298f', 'has_tags': False}}], 'conversation_message_id': 89641, 'id': 509136, 'peer_id': 150331739}, 'text': ''}}, {'conversation': {'peer': {'id': 693886202, 'type': 'user', 'local_id': 693886202}, 'last_message_id': 509137, 'in_read': 509137, 'out_read': 509137, 'sort_id': {'major_id': 0, 'minor_id': 509137}, 'last_conversation_message_id': 1116, 'in_read_cmid': 1116, 'out_read_cmid': 1116, 'is_marked_unread': False, 'important': False, 'can_write': {'allowed': True}, 'can_send_money': True, 'can_receive_money': True}, 'last_message': {'date': 1694154943, 'from_id': 160353318, 'id': 509137, 'out': 1, 'attachments': [], 'conversation_message_id': 1116, 'fwd_messages': [{'date': 1694154935, 'from_id': 160353318, 'text': '', 'attachments': [{'type': 'photo', 'photo': {'album_id': -3, 'date': 1694154935, 'id': 457248520, 'owner_id': 160353318, 'access_key': 'a34cd4b3ac1a5bd0e6', 'sizes': [{'height': 75, 'type': 's', 'width': 34, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=34x75&quality=96&sign=fcdb88ec6cf02837c879e8697aa6c925&c_uniq_tag=Eao5UB2Z2pxR9sZYaQ9hfdzzbVmNGo3zOsxDHdAfRn0&type=album'}, {'height': 130, 'type': 'm', 'width': 58, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=58x130&quality=96&sign=2e69ff7f3d18df5a972c7ad79ec9c426&c_uniq_tag=W22EESpi0Ws-fFxhhmDQe-AvJO8PWqz5uyQAw4p1yrk&type=album'}, {'height': 604, 'type': 'x', 'width': 272, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=272x604&quality=96&sign=99e31be0a61e02e6e0918dfb78cb9a82&c_uniq_tag=BTQaMunIuFDBVPyoVDQDU69mSyZltymd7UvXP3J8Sbk&type=album'}, {'height': 807, 'type': 'y', 'width': 363, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=363x807&quality=96&sign=ce8190fbed82f687f73a6c021c67b5c8&c_uniq_tag=juuQ7JmqEwjn0_UolJx_IsRLZ0QSw9xZ2Mgjm7gBY3I&type=album'}, {'height': 1080, 'type': 'z', 'width': 486, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=486x1080&quality=96&sign=469905e082676b98bbfa897edcd1890a&c_uniq_tag=S2tbEbSFO2c7e4uaHTf5AHEZNVRl5tfjhEyzWOaCQug&type=album'}, {'height': 1600, 'type': 'w', 'width': 720, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=720x1600&quality=96&sign=7d75998503899cfc68fa71f18f28a842&c_uniq_tag=JCJsID4q5uAz2k46Bd7fvsG8iFH_Lppa_kpgzuyVoJ4&type=album'}, {'height': 289, 'type': 'o', 'width': 130, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=130x289&quality=96&sign=9b7fc217b65b56ef04b666c9a5cd52ea&c_uniq_tag=LKQOxLnm3s4VX2OuDt9THAQGgYrle0HHOYminkEk39o&type=album'}, {'height': 444, 'type': 'p', 'width': 200, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=200x444&quality=96&sign=24712090fde22b3e2834e0076ce9b0e8&c_uniq_tag=hVDZC4TxkK9PG8IO7YeoiklTgo-02Gr0lv6BVI2L8MQ&type=album'}, {'height': 711, 'type': 'q', 'width': 320, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=320x711&quality=96&sign=284c5019743d94e8af490ebd9288f645&c_uniq_tag=__M7SsExERwy1Aa-P-yEjoIk710hxwooVI2lh7Ft7IM&type=album'}, {'height': 900, 'type': 'r', 'width': 510, 'url': 'https://sun1-29.userapi.com/impg/0-XABYDgeiivjkr_Mzzy1TW6fEsxB6sfR_p8LA/8kTzfManFCk.jpg?size=510x900&quality=96&crop=0,0,720,1271&sign=d1b35b4b7ec0516d562fa23366244d27&c_uniq_tag=E1qzArd3k8uQVdsZVdcMSjM9uUTrf8UKgyW2xCu3mgo&type=album'}], 'text': '', 'web_view_token': '862f43c7ed7cac298f', 'has_tags': False}}], 'conversation_message_id': 89641, 'id': 509136, 'peer_id': 150331739}], 'important': False, 'is_hidden': False, 'peer_id': 693886202, 'random_id': 1951516666, 'text': ''}}, {'conversation': {'peer': {'id': 181527320, 'type': 'user', 'local_id': 181527320}, 'last_message_id': 509134, 'in_read': 509134, 'out_read': 509111, 'sort_id': {'major_id': 0, 'minor_id': 509134}, 'last_conversation_message_id': 32275, 'in_read_cmid': 32275, 'out_read_cmid': 32269, 'is_marked_unread': False, 'important': False, 'can_write': {'allowed': True}, 'can_send_money': True, 'can_receive_money': False, 'style': 'valentine'}, 'last_message': {'date': 1694154749, 'from_id': 160353318, 'id': 509134, 'out': 1, 'attachments': [{'type': 'video', 'video': {'files': {'mp4_144': 'https://vkvd217.mycdn.me/?srcIp=185.7.86.55&pr=40&expires=1694630627642&srcAg=UNKNOWN&fromCache=1&ms=45.136.22.206&type=4&sig=FGDOM2gbv90&ct=0&urls=45.136.20.157&clientType=13&appId=512000384397&id=5098663971429', 'mp4_240': 'https://vkvd217.mycdn.me/?srcIp=185.7.86.55&pr=40&expires=1694630627642&srcAg=UNKNOWN&fromCache=1&ms=45.136.22.206&type=0&sig=ZfTgEPLpQpQ&ct=0&urls=45.136.20.157&clientType=13&appId=512000384397&id=5098663971429', 'mp4_360': 'https://vkvd217.mycdn.me/?srcIp=185.7.86.55&pr=40&expires=1694630627642&srcAg=UNKNOWN&fromCache=1&ms=45.136.22.206&type=1&sig=26dgeWMaad8&ct=0&urls=45.136.20.157&clientType=13&appId=512000384397&id=5098663971429', 'mp4_480': 'https://vkvd217.mycdn.me/?srcIp=185.7.86.55&pr=40&expires=1694630627642&srcAg=UNKNOWN&fromCache=1&ms=45.136.22.206&type=2&sig=k3GpcuNdk-s&ct=0&urls=45.136.20.157&clientType=13&appId=512000384397&id=5098663971429', 'hls': 'https://vkvd217.mycdn.me/video.m3u8?srcIp=185.7.86.55&expires=1694630627642&srcAg=UNKNOWN&fromCache=1&ms=45.136.22.206&mid=5976794998885&type=4&sig=Bs1lwri4dsc&ct=8&urls=45.136.20.157&clientType=13&cmd=videoPlayerCdn&id=5098663971429', 'dash_sep': 'https://vkvd217.mycdn.me/?srcIp=185.7.86.55&pr=40&expires=1694630627642&srcAg=UNKNOWN&fromCache=1&ms=45.136.22.206&type=1&sig=26dgeWMaad8&ct=6&urls=45.136.20.157&clientType=13&appId=512000384397&id=5098663971429', 'failover_host': 'vkvd244.mycdn.me'}, 'timeline_thumbs': {'count_per_image': 9, 'count_per_row': 3, 'count_total': 12, 'frame_height': 180, 'frame_width': 236.0, 'links': ['https://i.mycdn.me/videoPreview?id=5098663971429&type=42&tkn=4J7hjDVb45Y1ArXYQsKpEfh0Yp0&uidx=0', 'https://i.mycdn.me/videoPreview?id=5098663971429&type=42&tkn=4J7hjDVb45Y1ArXYQsKpEfh0Yp0&uidx=1'], 'is_uv': True, 'frequency': 1}, 'ads': {'slot_id': 551874, 'timeout': 1.0, 'can_play': 1, 'params': {'vk_id': 160353318, 'duration': 11, 'video_id': '-200880671_456242000', 'pl': 21469, 'content_id': '-862775911887293616', 'lang': 0, 'puid1': 986, 'puid2': 17, 'puid3': 1, 'puid4': 1, 'puid5': 14, 'puid6': 86, 'puid7': 1, 'puid9': 0, 'puid10': 4, 'puid12': 16, 'puid13': 2, 'puid14': 3, 'puid15': 0, 'puid18': 0, 'puid21': 2, 'sign': '43f9f7d1b3fdea493d084e9bd4f108d96187b080', 'groupId': 200880671, 'vk_catid': 27, 'user_small_video_viewed_count': 0}, 'sections': ['preroll', 'midroll', 'postroll'], 'midroll_percents': [0.25, 0.75]}, 'response_type': 'full', 'access_key': 'b341f84ee90c8e7430', 'can_comment': 1, 'can_like': 1, 'can_repost': 1, 'can_subscribe': 1, 'can_add_to_faves': 1, 'can_add': 1, 'can_play_in_background': 1, 'can_download': 1, 'comments': 0, 'date': 1693855643, 'description': '', 'duration': 11, 'image': [{'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=7&type=39&tkn=BVR9-KUYwh0vDPEjK8xGTsivCG0&fn=vid_s', 'width': 130, 'height': 96, 'with_padding': 1}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=7&type=39&tkn=BVR9-KUYwh0vDPEjK8xGTsivCG0&fn=vid_m', 'width': 160, 'height': 120, 'with_padding': 1}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=7&type=39&tkn=BVR9-KUYwh0vDPEjK8xGTsivCG0&fn=vid_l', 'width': 320, 'height': 240, 'with_padding': 1}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=7&type=39&tkn=BVR9-KUYwh0vDPEjK8xGTsivCG0&fn=vid_x', 'width': 800, 'height': 450, 'with_padding': 1}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=7&type=39&tkn=BVR9-KUYwh0vDPEjK8xGTsivCG0&fn=vid_w', 'width': 948, 'height': 720}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=7&type=39&tkn=BVR9-KUYwh0vDPEjK8xGTsivCG0&fn=vid_t', 'width': 320, 'height': 243}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=7&type=39&tkn=BVR9-KUYwh0vDPEjK8xGTsivCG0&fn=vid_u', 'width': 720, 'height': 547}], 'first_frame': [{'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=0&type=39&tkn=3S0u3QEvkW00vKSqCJe1RVl37V4&fn=vid_f', 'width': 533, 'height': 405}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=0&type=39&tkn=3S0u3QEvkW00vKSqCJe1RVl37V4&fn=vid_md', 'width': 355, 'height': 270}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=0&type=39&tkn=3S0u3QEvkW00vKSqCJe1RVl37V4&fn=vid_d', 'width': 177, 'height': 135}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=0&type=39&tkn=3S0u3QEvkW00vKSqCJe1RVl37V4&fn=vid_sm', 'width': 94, 'height': 72}, {'url': 'https://i.mycdn.me/getVideoPreview?id=5098663971429&idx=0&type=39&tkn=3S0u3QEvkW00vKSqCJe1RVl37V4&fn=vid_w', 'width': 948, 'height': 720}], 'width': 632, 'height': 480, 'id': 456242000, 'owner_id': -200880671, 'ov_id': '5976794998885', 'title': 'fAt 610', 'is_favorite': False, 'player': 'https://vk.com/video_ext.php?oid=-200880671&id=456242000&hash=bc4003542d523f54&__ref=vk.admin_android&api_hash=16941714276896d8be012dddd451_GE3DAMZVGMZTCOA', 'added': 0, 'track_code': 'video_34570b60FubYXUI1cjHZ4ia8qWvnjSxlFz521VeW0SEEpIgN4fwV8vVvcgVKCenUEY32X9K7HlEl', 'type': 'video', 'views': 4721, 'local_views': 4721, 'likes': {'count': 87, 'user_likes': 0}, 'reposts': {'count': 11, 'user_reposted': 0}, 'can_dislike': 1}}], 'conversation_message_id': 32275, 'fwd_messages': [], 'important': False, 'is_hidden': False, 'peer_id': 181527320, 'random_id': 1232408136, 'text': ''}}, {'conversation': {'peer': {'id': 558056842, 'type': 'user', 'local_id': 558056842}, 'last_message_id': 509122, 'in_read': 509122, 'out_read': 508441, 'sort_id': {'major_id': 0, 'minor_id': 509122}, 'last_conversation_message_id': 17, 'in_read_cmid': 17, 'out_read_cmid': 16, 'is_marked_unread': False, 'important': False, 'can_write': {'allowed': True}, 'can_send_money': True, 'can_receive_money': False}, 'last_message': {'date': 1694117142, 'from_id': 160353318, 'id': 509122, 'out': 1, 'attachments': [], 'conversation_message_id': 17, 'fwd_messages': [{'date': 1691924882, 'from_id': 160353318, 'text': '', 'attachments': [{'type': 'wall', 'wall': {'id': 76982, 'from_id': -157651636, 'to_id': -157651636, 'date': 1691919660, 'donut': {'is_donut': False}, 'comments': {'can_post': 1, 'count': 12}, 'marked_as_ads': 0, 'short_text_rate': 0.8, 'type': 'post', 'access_key': 'ab670a3fbb55aa0bb5', 'attachments': [{'type': 'photo', 'photo': {'album_id': -7, 'date': 1691916092, 'id': 457246784, 'owner_id': -157651636, 'access_key': '817ef87aab91d887a3', 'post_id': 76972, 'sizes': [{'height': 60, 'type': 's', 'width': 75, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=75x60&quality=95&sign=1725eb16d3dc05c4e0654156f1450687&c_uniq_tag=bguchmZNDAWJjt83-rN5wxSxXx-0wLAVi2cW_RENt9s&type=album'}, {'height': 103, 'type': 'm', 'width': 130, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=130x103&quality=95&sign=4f8109372e4538a8958dfcf1b08a8a27&c_uniq_tag=tkZxt9unHi8MR0L5mPM5GEjFn7ii25UagrhdnvCIKzQ&type=album'}, {'height': 481, 'type': 'x', 'width': 604, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=604x481&quality=95&sign=2b534c9877702b602b46aceb9c1a3f27&c_uniq_tag=7XGk9XiWTJCN4coviUvH2WPFevP6TdI2IJgdL2ti5yY&type=album'}, {'height': 642, 'type': 'y', 'width': 807, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=807x642&quality=95&sign=f895a8f38538883276f7ba578f47fe6e&c_uniq_tag=hNC5blLj_5qKsVo1i1BUEksJ9mKcCnE5_GCU-n9nFIE&type=album'}, {'height': 868, 'type': 'z', 'width': 1091, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=1091x868&quality=95&sign=d5e9b960ea7d2318f2ad4ca939a4261a&c_uniq_tag=57toRaEm76NC3xIgYpqki3mRM_OouI8qIG_N0b-fWjo&type=album'}, {'height': 103, 'type': 'o', 'width': 130, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=130x103&quality=95&sign=4f8109372e4538a8958dfcf1b08a8a27&c_uniq_tag=tkZxt9unHi8MR0L5mPM5GEjFn7ii25UagrhdnvCIKzQ&type=album'}, {'height': 159, 'type': 'p', 'width': 200, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=200x159&quality=95&sign=0f4a96af443a5c8653dea4973d4ebd14&c_uniq_tag=zc9rK8gEw7348xBOjR30fhEFzDir0OQZFEhYrUOxbRg&type=album'}, {'height': 255, 'type': 'q', 'width': 320, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=320x255&quality=95&sign=f15dbb9040298b437d10a3df64157fac&c_uniq_tag=ndENYuHk8X7tfzZkxI0O7wE5p234o-TTAHy065VLzsQ&type=album'}, {'height': 406, 'type': 'r', 'width': 510, 'url': 'https://sun9-66.userapi.com/impg/yFsQjFh24QShbcyygu_SsPRPuiFEpNkYtZbaiw/tzLr9TveVZU.jpg?size=510x406&quality=95&sign=d49d58399fbc6dd22bb4755a066b49e0&c_uniq_tag=t1eZmmtF2VJkarHdT7_qlIqrFvJnBjj4P0504anPfNY&type=album'}], 'text': '', 'user_id': 100, 'web_view_token': '5277f0ff7f679dcfeb', 'has_tags': False}}], 'is_favorite': False, 'likes': {'can_like': 1, 'count': 229, 'user_likes': 0, 'can_publish': 1, 'repost_disabled': False}, 'owner_id': -157651636, 'post_source': {'platform': 'android', 'type': 'api'}, 'post_type': 'post', 'reposts': {'count': 147, 'user_reposted': 0}, 'text': '#pstch_добро\n\nЯ нечасто видел слезы моих друзей. Мальчики ведь плачут в одиночестве или перед девочками (футболисты не в счет, им все можно). При других мальчиках мы плачем редко, и только когда уж совсем плохо. \nТем острее врезались в память слезы моего друга, внезапно появившиеся в его глазах, когда мы ехали в Москву, и я налил себе томатный сок. \nТеперь перейдем к изложению сути дела, веселой и поучительной. \nВ юности у меня было много разных компаний, они переплетались телами или делами, постоянно появлялись и исчезали новые люди. Молодые души жили, словно в блендере. Одним из таких друзей, взявшихся ниоткуда, был Семен. Разгильдяй из хорошей ленинградской семьи. То и другое было обязательным условием попадания в наш социум. Не сказать, чтобы мы иных «не брали», отнюдь, просто наши пути не пересекались. В 90-е разгильдяи из плохих семей уходили в ОПГ, либо просто скользили по пролетарской наклонной, а НЕразгильдяи из хороших семей либо создавали бизнесы, либо скользили по научной наклонной, кстати, чаще всего в том же финансовом направлении, что и пролетарии. \nМы же, этакая позолоченная молодежь, прожигали жизнь, зная, что генетика и семейные запасы never let us down. Семен, надо сказать, пытался что-то делать, работал переводчиком, приторговывал какими-то золотыми изделиями, иногда «бомбил» на отцовской машине. Он был очень старательным, честным и сострадающим, что в те времена едва ли было конкурентным преимуществом. Помню, сколько мы ни занимались извозом, обязательно находились пассажиры, с которыми Сеня разбалтывался и денег потом не брал. И еще он был очень привязан к родне, с которой познакомил и меня. Семьи у нас были похожи. \nМолодые родители, тщетно пытавшиеся найти себя в лихом постсоциализме, и старшее поколение, чья роль вырастала неизмеримо в смутное время распада СССР. Эти стальные люди, родившиеся в России в начале ХХ века и выжившие в его кровавых водах, стали несущими стенами в каждой семье. Они справедливо считали, что внуков доверять детям нельзя, так как ребенок не может воспитать ребенка. В итоге, в семье чаще всего оказывались бабушки/дедушки и два поколения одинаково неразумных детей. \nБабушку Семена звали Лидия Львовна. Есть несущие стены, в которых можно прорубить арку, но об Лидию Львовну затупился бы любой перфоратор. В момент нашей встречи ей было к восьмидесяти, ровесница так сказать Октября, презиравшая этот самый Октябрь всей душой, но считавшая ниже своего достоинства и разума с ним бороться. Она была аристократка без аристократических корней, хотя и пролетариат, и крестьянство ее генеалогическое древо обошли. В жилах местами виднелись следы Моисея, о чем Лидия Львовна говорила так: «В любом приличном человеке должна быть еврейская кровь, но не больше, чем булки в котлетах». Она была крепка здоровьем и настолько в здравом уме, что у некоторых это вызывало классовую ненависть. \nЧас беседы с Лидией Львовной заменял год в университете с точки зрения знаний энциклопедических и был бесценен с точки зрения знания жизни. Чувство собственного достоинства соперничало в ней лишь с тяжестью характера и беспощадностью сарказма. Еще она была весьма состоятельна, проживала одна в двухкомнатной квартире на Рылеева и часто уезжала на дачу, что, безусловно, для нас с Семеном было важнее всего остального. Секс в машине нравился не всем, а секс в хорошей квартире — почти всем. Мы с Семеном секс любили, и он отвечал нам взаимностью, посылая различных барышень для кратко- и средне-срочных отношений. Кроме того, Лидия Львовна всегда была источником пропитания, иногда денег и немногим чаще — хорошего коньяка. Она все понимала и считала сей оброк не больно тягостным, к тому же любила внука, а любить она умела. Это, кстати, не все могут себе позволить. Боятся. Бабушка Лида не боялась ничего. Гордая, независимая, с прекрасным вкусом и безупречными манерами, с ухоженными руками, скромными, но дорогими украшениями, она до сих пор является для меня примером того, какой должна быть женщина в любом возрасте. \nЦитатник этой женщины можно было бы издавать, но мы, болваны, запомнили не так много: \n«Докторская диссертация в голове не дает право женщине эту голову не мыть». Мы с Семеном соглашались. \n«Деньги полезны в старости и вредны в юности». Мы с Семеном не соглашались. \n«Мужчина не может жить только без той женщины, которая может жить без него». Мы с Семеном не имели четкой позиции. \n«Сеня, ты пропал на две недели, этого даже Зощенко себе не позволял» (писатель, я так понимаю, в свое время проявлял к Лидии Львовне интерес). \n«Бабушка, а почему ты сама мне не могла позвонить?» — пытался отбояриться Семен. \n«Я и Зощенко не навязывалась, а тебе, оболтусу, уж подавно не собираюсь. Тем более, у тебя все равно кончатся деньги и ты придешь, но будешь чувствовать себя неблагодарной свиньей. Радость не великая, но все же». Семен чуть ли не на руке себе чернилами писал: «позвонить бабушке», но все равно забывал, и его, как и меня, кстати, друзья называли «бабушкозависимый». \n«Я знаю, что здесь происходит, когда меня нет, но если я хоть раз обнаружу этому доказательства, ваш дом свиданий закроется на бесконечное проветривание». Именно у Лидии Львовны я обрел навыки высококлассной уборщицы. Потеря такого будуара была бы для нас катастрофой. \n«Значит так. В этой квартире единовременно может находиться только одна кроличья пара. Моя комната неприкосновенна. И кстати, запомните еще вот что: судя по вашему поведению, в зрелом возрасте у вас будут сложности с верностью. Так вот, спать с любовницей на кровати жены может только вконец опустившийся неудачник. Считайте, что моя кровать, это ваше будущее семейное ложе». Семен при своем полном разгильдяйстве и цинизме защищал бабушкину комнату, как деньги от хулиганов, то есть всеми возможными способами. Эта принципиальность стоила ему дружбы с одним товарищем, но внушила уважение всем оставшимся. \n«Сеня, единственное, что ты должен беречь,— это здоровье. Болеть дорого, и, поверь мне, денег у тебя не будет никогда». Бабушка не ошиблась. К сожалению… \n«Сеня становится похож лицом на мать, а характером на отца. Лучше бы наоборот». Эту фразу Лидия Львовна произнесла в присутствии обоих родителей Семена. Тетя Лена взглядом прожгла свекровь насквозь. Дядя Леша флегматично поинтересовался: «А чем тебе Ленкино лицо не нравится?» — и стал разглядывать жену, как будто и правда засомневался. Проезд по его характеру остался незамеченным. «Ленино лицо мне очень нравится, но оно совершенно не идет мужчине, как и твой характер»,— Лидия Львовна либо и правда имела в виду то, что сказала, либо пожалела невестку. \n«Я с тетей Таней иду в филармонию. С ней будет ее внучка. Прекрасная девушка, ты можешь меня встретить и познакомиться с ней. Мне кажется, она захочет подобрать тебя, когда ты будешь никому не нужен». Внучка тети Тани подобрала другого. И как подобрала! \n«Хорошая невестка — бывшая невестка». Вместе со свидетельством о разводе бывшие жены Сениного отца получали уведомление о наконец свалившейся на них любви бывшей уже свекрови. \n«Семен, если ты говоришь девушке, что любишь ее, только ради того, чтобы затащить в постель, ты не просто мерзавец, ты малодушный и бездарный мерзавец». Надо сказать, этот урок мы усвоили. Ну, по крайней мере я — точно. Честность и открытость в помыслах всегда была залогом спокойного сна, быстрого решения противоположной стороны и дружеских отношений в дальнейшем, независимо от наличия эротической составляющей. \n«Эх мальчики… в старости может быть либо плохо, либо очень плохо. Хорошо в старости быть не может…» \nВпоследствии я встречал немало относительно счастливых пожилых людей и не меньше несчастных молодых. Мне кажется, люди изначально живут в одном возрасте, и когда их личностный возраст совпадает с биологическим, они счастливы. Смотришь на Джаггера — ему всегда двадцать пять. А сколько тридцатилетних, в которых жизненной силы едва на семьдесят? Скучные, брюзжащие, потухшие. Лидия Львовна, как мне кажется, была счастлива лет в тридцать пять — сорок, в том чудном возрасте, когда женщина еще прекрасна, но уже мудра, еще ищет кого-то, но уже может жить одна. \nСлучилось так, что мне однажды не повезло (точнее, повезло) и я имел счастье общаться с Лидией Львовной в совершенно неожиданных обстоятельствах. \nА начиналось все весьма прозаично. Я был отставлен своей пассией, пребывал в тоске и лечился загулом. Из всего инструментария, необходимого для этого, постоянно у меня имелось только желание. Однако иногда мне удавалось так впиться в какую-нибудь сокурсницу или подругу сокурсницы, что появлялся повод попросить у Сени ключи от бабушкиных апартаментов. По проверенной информации, Лидия Львовна должна была уехать на дачу. С ключами в кармане и похотью в голове я пригласил девушку якобы в кино. Встретились мы часа за два до сеанса, и мой коварный план был таков: сказать, что бабушка просила зайти проверить, выключила ли она утюг, предложить чаю, а потом неожиданно напасть. С девушкой мы один раз страстно целовались в подъезде и, судя по реакции на мои уже тогда распустившиеся руки, шансы на победу были велики. \nЗнакомить подругу со своими родственниками я не собирался, и поэтому представить апартаменты Лидии Львовны квартирой моей собственной бабушки не представлялось мне такой уж проблемой. Фотографию Семена я планировал убрать заранее, но, естественно, опоздал и поэтому придумал историю о неслыханной любви бабули к моему другу, совместных каникулах и до слез трогательной карточке, которую я сам сделал, и поэтому меня на ней нет. Селфи тогда не существовало. \nВсе шло по плану. Подруга так распереживалась насчет утюга, что я еле успевал бежать за ней. Мне вот интересно, если нас создали по образу и подобию, значит, Бог тоже когда-то был молод и вот так бежал по небу… В общем, лестница была взята штурмом с остановками на поцелуи. Конечно, эти юношеские страхи (а вдруг не согласится) заставляют нас так торопиться, что иногда именно спешка все и разрушает. С губами в губах, я стал дрожащими руками пытаться запихать ключ в замочную скважину. Ключ не запихивался. «Хорошее начало» — всплыл в памяти классический каламбур. \n— Дай я сама! — Моя любимая женская фраза. Зацелованная девушка нежно вставила ключ, повернула и… дом взорвался. Точнее, взорвался весь мир. \n— Кто там? — спросила Лидия Львовна. \n— Это Саша,— ответил из космоса совершенно чужой мне голос. \nПосле этого дверь открылась. Не знаю, что случилось в моих мозгах, но экспромт я выдал занятный. \n— Бабуль, привет, а мы зашли проверить утюг, как ты просила. \nДо сих пор не могу понять, как у меня хватило наглости на такой ход. Знаете, у интеллигенции есть прекрасное понятие «неудобно перед…». Объяснить его другой касте невозможно. Речь не о грубости или хамстве в чей-то адрес и даже не об ущемлении интересов. Это какое-то странное переживание, что подумает или почувствует другой человек, если ты сотворишь нечто, что, как тебе кажется, не соответствует его представлениям о мировой гармонии. Очень часто те, перед кем нам неудобно, искренне удивились бы, узнай они о наших метаниях. \nМне было крайне неудобно перед юной подружкой за то, что я привел ее в чужой дом с очевидной целью. И это чувство победило «неудобство» перед Лидией Львовной. \nДумала она ровно секунду. Улыбнувшись уголками глаз, «дама» вступила в игру: \n— Спасибо, но, видишь ли, я на дачу не поехала — чувствую себя не очень хорошо, проходите, чаю выпьете. \n— Знакомьтесь, это… — со страху я забыл имя девушки. То есть совсем. Такое до сих пор иногда со мной происходит. Я могу неожиданно забыть имя достаточно близкого мне человека. Это ужасно, но именно тогда я придумал выход из столь затруднительного положения. \nЯ неожиданно полез в карман за телефоном (тогда только появились Эриксоны небольшого размера), сделав вид, что мне позвонили. \n— Извините, я отвечу,— и, изображая разговор по телефону, стал внимательно слушать, как моя девушка представляется моей «бабушке». \n— Катя. \n— Лидия Львовна. Проходите, пожалуйста. \nЯ тут же закончил псевдоразговор, и мы прошли на кухню. Я бы даже сказал кухоньку, тесную и неудобную, с окном, выходящим на стену противоположного дома, но это была, пожалуй, лучшая кухня в Петербурге. У многих вся жизнь похожа на такую кухню, несмотря на наличие пентхаузов и вилл. \n— Катя, чай будете? \nЛидия Львовна учила ко всем обращаться на «вы», особенно к младшим и к обслуживающему персоналу. Помню ее лекцию: \n— Когда-нибудь у тебя будет водитель. Так вот, всегда, я повторяю ВСЕГДА, будь с ним на Вы, даже если он твой ровесник и работает у тебя десять лет. «Вы» — это броня, за которой можно спрятаться от жлобства и хамства. \nЛидия Львовна достала чашки, поставила их на блюдца, также достала молочник, заварной чайник, серебряные ложки, положила малиновое варенье в хрустальную вазочку. Так Лидия Львовна пила чай всегда. В этом не было надуманности или вычурности. Для нее это было так же естественно, как говорить «здравствуйте», а не «здрасьте», не ходить по дому в халате и посещать врачей, имея при себе небольшой презент. \nКатины глаза приняли форму блюдец. Она тут же пошла мыть руки. \n— Э-э-эх, Сашка, ты даже имени ее не помнишь… — Лидия Львовна тепло и с какой-то печалью посмотрела на меня.\n— Спасибо вам большое… простите, я не знал, что делать. \n— Не переживай, я понимаю, ты же воспитанный мальчик, неудобно перед девушкой, она еще молоденькая, должна соблюдать приличия и по чужим квартирам не ходить. \n— Имя я случайно забыл, честное слово. \n— А что с Ксеней? — Как я уже сказал, я недавно расстался со своей девушкой. Мы встречались несколько лет и часто бывали в гостях, в том числе у Лидии Львовны. \n— Ну, если честно, она меня бросила. \n— Жаль, хорошая девушка, хотя я понимала, что все этим кончится. \n— Почему? — Ксеню я любил и разрыв переживал достаточно тяжело. \n— Понимаешь, ей не очень важны хорошие и даже уникальные качества, составляющие основу твоей личности, а принимать твои недостатки, которые являются обратной стороной этих качеств,— она не готова. \nЧестно скажу, я тогда не понял, о чем она говорит, и потом еще долго пытался изменить в людях какие-то черты характера, не сознавая, что именно они являются неотъемлемым приданым к восхищавшим меня добродетелям. \nВдруг по лицу Лидии Львовны пробежала тревога: \n— Сашенька, ты только с Сеней продолжай дружить, он хороший парень, добрый, но нет в нем ярости, а она должна быть у мужчины, хотя бы иногда. Я очень за него волнуюсь. Присмотришь за ним? У тебя все в жизни получится, а у него нет, пусть хоть друзья достойные рядом будут. Обещаешь? \nЯ впервые видел какую-то беспомощность во взгляде этой сильнейшей из всех знакомых мне женщин. Самая большая плата за счастье любить кого-то — это неизбежная боль от бессилия помочь. Рано или поздно это обязательно случается. \nКатя вернулась из ванной комнаты, мы выпили крепко заваренного чая, поговорили о чем-то и ушли. \nЧерез неделю Лидия Львовна умерла во сне. Сеня так и не успел к ней заехать, потому что мы опять куда-то умотали на выходные. \nМесяца через два мы поехали с ним в Москву. «Красная стрела», купе, целое приключение для двух оболтусов. В нашу келью заглянул буфетчик, и я попросил к водке, припасенной заранее, томатного сока. \nОткрыл, налил полный стакан и взглянул на Сеню. Он смотрел на мой сок и плакал. Ну, точнее, слезы остановились прямо на краю глаз и вот-вот должны были прорвать плотину. \n— Сенька, что случилось? \n— Бабушка. Она всегда просила покупать ей томатный сок. \nСеня отвернулся, потому что мальчики не плачут при мальчиках. Через несколько минут, когда он вновь посмотрел на меня, это уже был другой Сеня. Совсем другой. Старее и старше. Светлый, но уже не такой яркий. Его лицо было похоже на песок, который только что окатила волна. Бабушка ушла, и он, наконец, в это поверил, как и в то, что больше никто и никогда не будет любить его так. \n\nТогда я понял, что, когда умирает близкий человек, мы в одну секунду испытываем боль, равную всему теплу, какое получили от него за бесчисленные мгновения жизни рядом.\n\nНекие космические весы выравниваются. И бог, и физики спокойны.', 'views': {'count': 12978}}}], 'conversation_message_id': 2242, 'id': 507856, 'peer_id': 160353318}], 'important': False, 'is_hidden': False, 'peer_id': 558056842, 'random_id': 1289775940, 'text': ''}}, {'conversation': {'peer': {'id': 160353318, 'type': 'user', 'local_id': 160353318}, 'last_message_id': 509121, 'in_read': 509121, 'out_read': 509121, 'sort_id': {'major_id': 0, 'minor_id': 509121}, 'last_conversation_message_id': 2266, 'in_read_cmid': 2266, 'out_read_cmid': 2266, 'is_marked_unread': False, 'important': False, 'can_write': {'allowed': True}, 'can_send_money': False, 'can_receive_money': False}, 'last_message': {'date': 1694116549, 'from_id': 160353318, 'id': 509121, 'out': 1, 'attachments': [], 'conversation_message_id': 2266, 'fwd_messages': [], 'important': False, 'is_hidden': False, 'peer_id': 160353318, 'random_id': 423644682, 'text': 'Шило'}}, {'conversation': {'peer': {'id': 32615178, 'type': 'user', 'local_id': 32615178}, 'last_message_id': 509118, 'in_read': 509118, 'out_read': 509118, 'sort_id': {'major_id': 0, 'minor_id': 509118}, 'last_conversation_message_id': 10011, 'in_read_cmid': 10011, 'out_read_cmid': 10011, 'is_marked_unread': False, 'important': False, 'push_settings': {'disabled_forever': True, 'no_sound': True, 'disabled_mentions': False, 'disabled_mass_mentions': False}, 'can_write': {'allowed': True}, 'can_send_money': True, 'can_receive_money': True}, 'last_message': {'date': 1694109396, 'from_id': 32615178, 'id': 509118, 'out': 0, 'attachments': [{'type': 'wall', 'wall': {'id': 677512, 'from_id': -25752703, 'to_id': -25752703, 'date': 1693992060, 'donut': {'is_donut': False}, 'comments': {'can_post': 1, 'count': 45}, 'marked_as_ads': 0, 'short_text_rate': 0.8, 'type': 'post', 'access_key': '684a79e25d3f872b24', 'attachments': [{'type': 'photo', 'photo': {'album_id': -7, 'date': 1693971355, 'id': 457296942, 'owner_id': -25752703, 'access_key': '83431d762c3d3be4d4', 'post_id': 677512, 'sizes': [{'height': 75, 'type': 's', 'width': 57, 'url': 'https://sun1-98.userapi.com/impg/0j5CHb5mnl0btIEC74IOBKgU0wRvEbz4NVKKZw/gCU_fsYGHuY.jpg?size=57x75&quality=95&sign=649fffc631caf3591d5313afda3062c9&c_uniq_tag=zKuHYbF_kD51tX--ZTsrBvpthfRsyIiOego99HBjqxE&type=album'}, {'height': 130, 'type': 'm', 'width': 98, 'url': 'https://sun1-98.userapi.com/impg/0j5CHb5mnl0btIEC74IOBKgU0wRvEbz4NVKKZw/gCU_fsYGHuY.jpg?size=98x130&quality=95&sign=b57e06a7a518adeb35efd0cb3c5f7620&c_uniq_tag=M--jcfkaq_pS9BULRV-FtuudUleonRi1pAXtghpVEOM&type=album'}, {'height': 604, 'type': 'x', 'width': 457, 'url': 'https://sun1-98.userapi.com/impg/0j5CHb5mnl0btIEC74IOBKgU0wRvEbz4NVKKZw/gCU_fsYGHuY.jpg?size=457x604&quality=95&sign=57185fd6d198fe86dbf8758b4f00e71f&c_uniq_tag=tQaKyzAeWM_PkVhxFDhdaX6zKuWubep74xa6ppg0UCk&type=album'}, {'height': 608, 'type': 'y', 'width': 460, 'url': 'https://sun1-98.userapi.com/impg/0j5CHb5mnl0btIEC74IOBKgU0wRvEbz4NVKKZw/gCU_fsYGHuY.jpg?size=460x608&quality=95&sign=4feb2bf1a98225ce6c3b0c25fa5f1933&c_uniq_tag=9eotjr0XgARrOoIPzIsRxUYF-4myARC2-cm2pcI1Ork&type=album'}, {'height': 172, 'type': 'o', 'width': 130, 'url': 'https://sun1-98.userapi.com/impg/0j5CHb5mnl0btIEC74IOBKgU0wRvEbz4NVKKZw/gCU_fsYGHuY.jpg?size=130x172&quality=95&sign=b199bfc50bf5cf61c0000f5fc5e3f7ad&c_uniq_tag=K8u7djVIWYlyIIt0Wf6WckjJ68V1P8gMWabDYBvD150&type=album'}, {'height': 264, 'type': 'p', 'width': 200, 'url': 'https://sun1-98.userapi.com/impg/0j5CHb5mnl0btIEC74IOBKgU0wRvEbz4NVKKZw/gCU_fsYGHuY.jpg?size=200x264&quality=95&sign=855a818181fa898218753e5266069973&c_uniq_tag=JN0ueK-CCEU5uGtJo8dns4voLwtvk9scGIjPDYdSl4A&type=album'}, {'height': 423, 'type': 'q', 'width': 320, 'url': 'https://sun1-98.userapi.com/impg/0j5CHb5mnl0btIEC74IOBKgU0wRvEbz4NVKKZw/gCU_fsYGHuY.jpg?size=320x423&quality=95&sign=9148de0d31c98b51630acc4b31418856&c_uniq_tag=KhM9pgDRf58HJ_uZeqs9Ub4G9Zs9KEi7K1ttuUzyLDU&type=album'}, {'height': 608, 'type': 'r', 'width': 460, 'url': 'https://sun1-98.userapi.com/impg/0j5CHb5mnl0btIEC74IOBKgU0wRvEbz4NVKKZw/gCU_fsYGHuY.jpg?size=460x608&quality=95&sign=4feb2bf1a98225ce6c3b0c25fa5f1933&c_uniq_tag=9eotjr0XgARrOoIPzIsRxUYF-4myARC2-cm2pcI1Ork&type=album'}], 'text': '', 'user_id': 100, 'web_view_token': '33658fdaff95be27c6', 'has_tags': False}}], 'is_favorite': False, 'likes': {'can_like': 1, 'count': 1220, 'user_likes': 0, 'can_publish': 1, 'repost_disabled': False}, 'owner_id': -25752703, 'post_source': {'type': 'vk'}, 'post_type': 'post', 'reposts': {'count': 355, 'user_reposted': 0}, 'text': 'Учредители', 'views': {'count': 126053}}}], 'conversation_message_id': 10011, 'fwd_messages': [], 'important': False, 'is_hidden': False, 'peer_id': 32615178, 'random_id': 0, 'ref': 'feed_top', 'text': ''}}, {'conversation': {'peer': {'id': 99022876, 'type': 'user', 'local_id': 99022876}, 'last_message_id': 509085, 'in_read': 509085, 'out_read': 509085, 'sort_id': {'major_id': 0, 'minor_id': 509085}, 'last_conversation_message_id': 340, 'in_read_cmid': 340, 'out_read_cmid': 340, 'is_marked_unread': False, 'important': False, 'can_write': {'allowed': True}, 'can_send_money': True, 'can_receive_money': True}, 'last_message': {'date': 1694011001, 'from_id': 160353318, 'id': 509085, 'out': 1, 'attachments': [], 'conversation_message_id': 340, 'fwd_messages': [], 'important': False, 'is_hidden': False, 'peer_id': 99022876, 'random_id': 693248243, 'text': 'В какой нибудь воронеж ещё отправят блин'}}, {'conversation': {'peer': {'id': 2000000111, 'type': 'chat', 'local_id': 111}, 'last_message_id': 508834, 'in_read': 508834, 'out_read': 508834, 'sort_id': {'major_id': 0, 'minor_id': 508834}, 'last_conversation_message_id': 718, 'in_read_cmid': 718, 'out_read_cmid': 718, 'is_marked_unread': False, 'important': False, 'push_settings': {'disabled_forever': True, 'no_sound': False, 'disabled_mentions': False, 'disabled_mass_mentions': False}, 'can_write': {'allowed': True}, 'can_send_money': False, 'can_receive_money': True, 'chat_settings': {'title': 'рестик ', 'members_count': 5, 'friends_count': 2, 'owner_id': 99022876, 'state': 'in', 'active_ids': [99022876, 104207819, 126634491, 144561817], 'is_group_channel': False, 'acl': {'can_change_info': True, 'can_change_invite_link': False, 'can_change_pin': True, 'can_invite': True, 'can_promote_users': False, 'can_see_invite_link': False, 'can_moderate': False, 'can_copy_chat': False, 'can_call': True, 'can_use_mass_mentions': True, 'can_change_style': True, 'can_send_reactions': True}, 'is_disappearing': False, 'is_service': False}, 'is_new': True}, 'last_message': {'date': 1693725197, 'from_id': 104207819, 'id': 508834, 'out': 0, 'attachments': [], 'conversation_message_id': 718, 'fwd_messages': [], 'important': False, 'is_hidden': False, 'peer_id': 2000000111, 'random_id': 0, 'text': '🤣🤣🤣'}}, {'conversation': {'peer': {'id': 2000000092, 'type': 'chat', 'local_id': 92}, 'last_message_id': 508486, 'in_read': 508486, 'out_read': 508486, 'sort_id': {'major_id': 0, 'minor_id': 508486}, 'last_conversation_message_id': 1583, 'in_read_cmid': 1583, 'out_read_cmid': 1583, 'is_marked_unread': False, 'important': False, 'push_settings': {'disabled_forever': True, 'no_sound': False, 'disabled_mentions': False, 'disabled_mass_mentions': False}, 'can_write': {'allowed': True}, 'can_send_money': False, 'can_receive_money': True, 'chat_settings': {'title': 'ВМиЗ 5 курс', 'members_count': 80, 'friends_count': 17, 'owner_id': 75325026, 'state': 'in', 'active_ids': [720689814, 322594247, 760904199, 503879478], 'is_group_channel': False, 'acl': {'can_change_info': True, 'can_change_invite_link': False, 'can_change_pin': True, 'can_invite': True, 'can_promote_users': False, 'can_see_invite_link': False, 'can_moderate': False, 'can_copy_chat': False, 'can_call': True, 'can_use_mass_mentions': True, 'can_change_style': True, 'can_send_reactions': True}, 'is_disappearing': False, 'is_service': False, 'short_poll_reactions': True}, 'is_new': True}, 'last_message': {'date': 1693029009, 'from_id': 98957552, 'id': 508486, 'out': 0, 'attachments': [{'type': 'wall', 'wall': {'id': 11834, 'from_id': -29870410, 'to_id': -29870410, 'date': 1693023590, 'donut': {'is_donut': False}, 'comments': {'can_post': 1, 'count': 0, 'groups_can_post': True}, 'marked_as_ads': 0, 'short_text_rate': 0.8, 'type': 'post', 'access_key': 'bfb134112f84be9490', 'attachments': [], 'is_favorite': False, 'likes': {'can_like': 1, 'count': 19, 'user_likes': 0, 'can_publish': 1, 'repost_disabled': False}, 'owner_id': -29870410, 'post_source': {'platform': 'android', 'type': 'api'}, 'post_type': 'post', 'reposts': {'count': 8, 'user_reposted': 0}, 'text': 'В нашу клинику на постоянную работу требуется  ассистент. По всем вопросам можно обращаться по телефону 8-910-660-17-77', 'views': {'count': 3258}}}], 'conversation_message_id': 1583, 'fwd_messages': [], 'important': False, 'is_hidden': False, 'peer_id': 2000000092, 'random_id': 0, 'ref': 'feed_top', 'text': ''}}, {'conversation': {'peer': {'id': 337381502, 'type': 'user', 'local_id': 337381502}, 'last_message_id': 508186, 'in_read': 508186, 'out_read': 508186, 'sort_id': {'major_id': 0, 'minor_id': 508186}, 'last_conversation_message_id': 1667, 'in_read_cmid': 1667, 'out_read_cmid': 1667, 'is_marked_unread': False, 'important': False, 'can_write': {'allowed': True}, 'can_send_money': True, 'can_receive_money': False}, 'last_message': {'date': 1692461434, 'from_id': 337381502, 'id': 508186, 'out': 0, 'attachments': [], 'conversation_message_id': 1667, 'fwd_messages': [], 'important': False, 'is_hidden': False, 'peer_id': 337381502, 'random_id': 0, 'text': '😊'}}]}}

# pprint.pprint(a)
